<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Tic Tac Toe â€” Open Coding (Hacks)</title>
  <link rel="stylesheet" href="/csse_teamrepo/assets/css/style.css" />
  <style>
    body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; padding: 1rem }
    #tictactoe-board { display: grid; grid-template-columns: repeat(3, 90px); gap: 8px; margin: 12px 0; }
    .ttt-cell { width:90px; height:90px; display:flex; align-items:center; justify-content:center; font-size:2rem; background:#fff; border:1px solid #ddd; cursor:pointer; }
    .ttt-cell:hover { background:#f7f7f7 }
    #ttt-controls { margin-top:8px }
    #ttt-status { margin-left:12px; font-weight:600 }
  </style>
</head>
<body>
  <main>
    <h1>Tic-Tac-Toe (Hacks)</h1>
    <p>Play a simple in-browser Tic-Tac-Toe. This is a standalone static page under <code>hacks/TicTacToe/</code>.</p>

    <div id="tictactoe-app">
      <div id="tictactoe-board" role="grid" aria-label="Tic Tac Toe board"></div>
      <div id="ttt-controls">
        <button id="ttt-reset">Reset</button>
        <span id="ttt-status">X to move</span>
      </div>
    </div>

    <p><a href="/csse_teamrepo/games/tictactoe">Back to post</a></p>
    <p><a href="/csse_teamrepo/hacks/TicTacToe/TicTacToe.html">Lesson: OOP overview</a></p>
  </main>

  <script>
    (function(){
      const boardEl = document.getElementById('tictactoe-board');
      const statusEl = document.getElementById('ttt-status');
      const resetBtn = document.getElementById('ttt-reset');
      let board = Array(9).fill('');
      let turn = 'X';
      const wins = [[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];

      function render(){
        boardEl.innerHTML = '';
        board.forEach((val,i)=>{
          const cell = document.createElement('div');
          cell.className = 'ttt-cell';
          cell.setAttribute('data-index', i);
          cell.setAttribute('role','button');
          cell.textContent = val;
          cell.addEventListener('click', onCellClick);
          boardEl.appendChild(cell);
        });
        statusEl.textContent = (checkWinner()) ? (checkWinner() + ' wins') : (board.every(Boolean) ? 'Tie' : (turn + ' to move'));
      }

      function onCellClick(e){
        const i = Number(e.currentTarget.dataset.index);
        if(board[i] || checkWinner()) return;
        board[i] = turn;
        if(checkWinner()){ render(); return; }
        turn = (turn === 'X') ? 'O' : 'X';
        render();
      }

      function checkWinner(){
        for(const combo of wins){
          const [a,b,c] = combo;
          if(board[a] && board[a] === board[b] && board[a] === board[c]) return board[a];
        }
        return null;
      }

      resetBtn.addEventListener('click', ()=>{ board = Array(9).fill(''); turn='X'; render(); });
      render();
    })();
  </script>
</body>
</html>
